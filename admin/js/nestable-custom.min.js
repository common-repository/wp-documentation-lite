jQuery(document).ready(function(a){function b(){var b=1,c=1;return a(".itemTitle").each(function(b){var d=parseInt(a(this).attr("data-id"));d>c&&(c=d)}),a(".itemTitle").length>0&&(b=c+1),b}function c(a){var b="";return b+='<li class="dd-item dd3-item" id="document_title_'+a+'" data-id="'+a+'">',b+='<div class="dd-handle dd3-handle"></div>',b+='<div class="dd3-content">',b+='<h3 class="itemTitle clearfix" data-id="'+a+'">',b+='<span class="edit_title" id="title-'+a+'" title="Click Here To Add/Edits Title" >Click Here to add Title</span>',b+='<input type="text" data-id="title-'+a+'" name="doc_title['+a+']" value="" placeholder="(no title)" class="section_title" style="display:none">',b+="</span>",b+='<i class="dashicons dashicons-no-alt delete-list delete-icon" data-id="'+a+'"></i>',b+="</h3>",b+="</div>",b+="</li>"}var d=function(b){var c=b.length?b:a(b.target),d=c.data("output");window.JSON?d.val(window.JSON.stringify(c.nestable("serialize"))):d.val("JSON browser support required for this sorting.")};docDepth=2,a("#nestable-document").nestable({group:1,maxDepth:docDepth}).on("change",d),d(a("#nestable-document").data("output",a("#list_serialized"))),a(document).on("click",".delete-list",function(b){var c=a(this).attr("data-id"),e="Are you sure to delete it";a(this).closest("li").children("ol").html()&&(e+=" and all its children"),e+="?";var f=confirm(e);1==f&&(a("#document_title_"+c).remove(),a("#documentation-list_"+c).remove(),d(a("#nestable-document").data("output",a("#list_serialized"))))}),a(document).on("click","h3.itemTitle span.edit_title",function(b){a(this).hide(),a(this).siblings(".section_title").show().focus().select()}),a(document).on("blur","h3.itemTitle input.section_title",function(b){a(this).hide(),a(this).siblings("span.edit_title").show()}),a(document).on("keyup change",".section_title",function(b){var c=a(this).attr("data-id"),d=a(this).val()?a(this).val():"(no title)";a("#"+c).text(d)}),a(document).on("click ",".wp-doc-add-new",function(e){e.preventDefault(),a(".message-add-new").slideUp("slow"),a(".save-notice").html("Please Publish / Update title before you go to contents section").slideDown("slow");var f=b(),g=c(f);a("ol.wp-doc-nested-sortable").append(g),d(a("#nestable-document").data("output",a("#list_serialized")))})});